{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///app/lib/schemas/register.ts"],"sourcesContent":["import { z } from \"zod\";\n\nexport const registerSchema = z\n  .object({\n    firstName: z\n      .string()\n      .min(2, \"Ad en az 2 karakter olmalı.\")\n      .max(50, \"Ad en fazla 50 karakter olabilir.\"),\n    lastName: z\n      .string()\n      .min(2, \"Soyad en az 2 karakter olmalı.\")\n      .max(50, \"Soyad en fazla 50 karakter olabilir.\"),\n    email: z.email(\"Geçerli bir e-posta adresi giriniz.\"),\n    phoneNumber: z\n      .string()\n      .min(10, \"Telefon numarası en az 10 haneli olmalı.\")\n      .max(15, \"Telefon numarası en fazla 15 haneli olabilir.\")\n      .regex(/^\\d+$/, \"Telefon numarası yalnızca rakamlardan oluşmalıdır.\"),\n    password: z\n      .string()\n      .min(8, \"Şifre en az 8 karakter olmalı.\")\n      .max(50, \"Şifre en fazla 50 karakter olabilir.\"),\n    confirmPassword: z\n      .string()\n      .min(8, \"Şifre tekrarı en az 8 karakter olmalı.\")\n      .max(50, \"Şifre tekrarı en fazla 50 karakter olabilir.\"),\n  })\n  // Şifrelerin eşleşip eşleşmediğini kontrol eder\n  .refine((data) => data.password === data.confirmPassword, {\n    message: \"Şifreler eşleşmiyor.\",\n    path: [\"confirmPassword\"], // Hata mesajı confirmPassword alanına yazılacak\n  });\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,iBAAiB,kLAAC,CAC5B,MAAM,CAAC;IACN,WAAW,kLAAC,CACT,MAAM,GACN,GAAG,CAAC,GAAG,+BACP,GAAG,CAAC,IAAI;IACX,UAAU,kLAAC,CACR,MAAM,GACN,GAAG,CAAC,GAAG,kCACP,GAAG,CAAC,IAAI;IACX,OAAO,kLAAC,CAAC,KAAK,CAAC;IACf,aAAa,kLAAC,CACX,MAAM,GACN,GAAG,CAAC,IAAI,4CACR,GAAG,CAAC,IAAI,iDACR,KAAK,CAAC,SAAS;IAClB,UAAU,kLAAC,CACR,MAAM,GACN,GAAG,CAAC,GAAG,kCACP,GAAG,CAAC,IAAI;IACX,iBAAiB,kLAAC,CACf,MAAM,GACN,GAAG,CAAC,GAAG,0CACP,GAAG,CAAC,IAAI;AACb,EACA,gDAAgD;CAC/C,MAAM,CAAC,CAAC,OAAS,KAAK,QAAQ,KAAK,KAAK,eAAe,EAAE;IACxD,SAAS;IACT,MAAM;QAAC;KAAkB;AAC3B","debugId":null}},
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///app/lib/utils/getZodFieldErrors.ts"],"sourcesContent":["import { ZodError } from 'zod'\n\nexport function getZodFieldErrors<T>(error: ZodError<T>) {\n  return error.issues.reduce((acc: Record<string, string[]>, curr) => {\n    const key = curr.path[0] as string\n    if (!acc[key]) acc[key] = []\n    acc[key].push(curr.message)\n    return acc\n  }, {})\n}\n"],"names":[],"mappings":";;;;AAEO,SAAS,kBAAqB,KAAkB;IACrD,OAAO,MAAM,MAAM,CAAC,MAAM,CAAC,CAAC,KAA+B;QACzD,MAAM,MAAM,KAAK,IAAI,CAAC,EAAE;QACxB,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,GAAG,CAAC,IAAI,GAAG,EAAE;QAC5B,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,OAAO;QAC1B,OAAO;IACT,GAAG,CAAC;AACN","debugId":null}},
    {"offset": {"line": 44, "column": 0}, "map": {"version":3,"sources":["file:///app/app/%28pages%29/%28auth%29/register/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport toast from \"react-hot-toast\";\nimport Link from \"next/link\";\nimport { Eye, EyeOff } from \"lucide-react\";\nimport { registerSchema } from \"@/lib/schemas/register\";\nimport { getZodFieldErrors } from \"@/lib/utils/getZodFieldErrors\";\nimport { z } from \"zod\";\n\ntype Field = keyof z.infer<typeof registerSchema>;\n\nexport default function RegisterPage() {\n  const [formData, setFormData] = useState({\n    firstName: \"\",\n    lastName: \"\",\n    email: \"\",\n    phoneNumber: \"\",\n    password: \"\",\n    confirmPassword: \"\",\n    countryCode: \"+90\",\n  });\n\n  const [errors, setErrors] = useState<\n    Partial<Record<Field | \"confirmPassword\", string>>\n  >({});\n  const [showPassword, setShowPassword] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const router = useRouter();\n\n  const handleChange = (field: Field | \"confirmPassword\", value: string) => {\n    setFormData((prev) => ({ ...prev, [field]: value }));\n    setErrors((prev) => ({ ...prev, [field]: \"\" }));\n\n    if (field !== \"confirmPassword\") {\n      const fieldSchema = z.object({\n        [field]: registerSchema.shape[field as Field],\n      });\n      const result = fieldSchema.safeParse({ [field]: value });\n\n      if (!result.success) {\n        setErrors((prev) => ({\n          ...prev,\n          [field]: result.error.issues[0].message,\n        }));\n      }\n    }\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    const parsed = registerSchema.safeParse(formData);\n\n    if (!parsed.success) {\n      setErrors(getZodFieldErrors(parsed.error));\n      toast.error(\"Lütfen formdaki hataları düzeltin.\");\n      return;\n    }\n\n    setLoading(true);\n    const payload = {\n      firstName: formData.firstName.trim(),\n      lastName: formData.lastName.trim(),\n      email: formData.email.toLowerCase(),\n      phoneNumber: formData.countryCode + formData.phoneNumber,\n      password: formData.password,\n    };\n\n    try {\n      const res = await fetch(\"/api/register\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(payload),\n      });\n\n      if (!res.ok) {\n        const data = await res.json();\n        toast.error(data.message || \"Kayıt sırasında bir hata oluştu.\");\n      } else {\n        toast.success(\"Kayıt başarılı! Giriş sayfasına yönlendiriliyorsun...\");\n        setTimeout(() => router.push(\"/login\"), 1500);\n      }\n    } catch (err) {\n      toast.error(\"Sunucuya bağlanılamadı.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const inputClass = (field: Field | \"confirmPassword\") =>\n    `w-full px-4 py-2 rounded-md bg-zinc-800 border ${\n      errors[field]\n        ? \"border-red-500 focus:ring-red-500\"\n        : \"border-zinc-600 focus:ring-indigo-500\"\n    } focus:ring-2 outline-none placeholder:text-zinc-500 transition`;\n\n  return (\n    <div className=\"flex min-h-screen items-center justify-center bg-zinc-950 text-white px-4\">\n      <div className=\"w-full max-w-sm p-8 border border-zinc-700 bg-zinc-900 rounded-xl shadow-lg\">\n        <h1 className=\"text-3xl font-bold text-center mb-6 text-indigo-400\">\n          KTÜ Mezun Platformu\n        </h1>\n\n        <form onSubmit={handleSubmit} className=\"flex flex-col gap-5\">\n          {([\"firstName\", \"lastName\", \"email\"] as Field[]).map((field) => (\n            <div key={field} className=\"flex flex-col gap-1\">\n              <input\n                type={field === \"email\" ? \"email\" : \"text\"}\n                placeholder={\n                  field === \"firstName\"\n                    ? \"Ad\"\n                    : field === \"lastName\"\n                    ? \"Soyad\"\n                    : \"Email\"\n                }\n                value={formData[field]}\n                onChange={(e) => handleChange(field, e.target.value)}\n                className={inputClass(field)}\n              />\n              {errors[field] && (\n                <p className=\"text-xs text-red-400\">{errors[field]}</p>\n              )}\n            </div>\n          ))}\n\n          {/* Telefon alanı */}\n          <div className=\"flex w-full min-w-0\">\n            <span className=\"px-3 py-2 bg-zinc-800 border border-r-0 rounded-l-md border-zinc-600 text-zinc-400 text-sm select-none\">\n              +90\n            </span>\n            <input\n              type=\"tel\"\n              maxLength={10}\n              placeholder=\"5xx xxx xxxx (Başına 0 koymayın)\"\n              autoComplete=\"off\"\n              value={formData.phoneNumber}\n              onChange={(e) => handleChange(\"phoneNumber\", e.target.value)}\n              className={`${inputClass(\"phoneNumber\")} flex-1 rounded-l-none`}\n            />\n          </div>\n          {errors.phoneNumber && (\n            <p className=\"text-xs text-red-400 -mt-3\">{errors.phoneNumber}</p>\n          )}\n\n          {/* Şifre */}\n          <div className=\"relative flex flex-col gap-1\">\n            <input\n              autoComplete=\"off\"\n              type={showPassword ? \"text\" : \"password\"}\n              placeholder=\"Şifre (Min 8 karakter)\"\n              value={formData.password}\n              onChange={(e) => handleChange(\"password\", e.target.value)}\n              className={`${inputClass(\"password\")} pr-10`}\n            />\n            <button\n              type=\"button\"\n              onClick={() => setShowPassword((p) => !p)}\n              className=\"absolute right-3 top-2.5 text-zinc-400 hover:text-indigo-400 transition\"\n            >\n              {showPassword ? <EyeOff size={18} /> : <Eye size={18} />}\n            </button>\n            {errors.password && (\n              <p className=\"text-xs text-red-400\">{errors.password}</p>\n            )}\n          </div>\n\n          {/* Şifre Tekrar */}\n          <div className=\"flex flex-col gap-1\">\n            <input\n              autoComplete=\"off\"\n              type={showPassword ? \"text\" : \"password\"}\n              placeholder=\"Şifre Tekrar\"\n              value={formData.confirmPassword}\n              onChange={(e) => handleChange(\"confirmPassword\", e.target.value)}\n              className={inputClass(\"confirmPassword\")}\n            />\n            {errors.confirmPassword && (\n              <p className=\"text-xs text-red-400\">{errors.confirmPassword}</p>\n            )}\n          </div>\n\n          <button\n            type=\"submit\"\n            disabled={loading}\n            className={`mt-2 w-full py-2 font-medium bg-indigo-600 hover:bg-indigo-700 rounded-md transition disabled:opacity-60 disabled:cursor-not-allowed`}\n          >\n            {loading ? \"Kayıt olunuyor...\" : \"Kayıt Ol\"}\n          </button>\n\n          <Link\n            href=\"/login\"\n            className=\"text-center text-sm text-zinc-400 underline underline-offset-2 hover:text-indigo-400 transition\"\n          >\n            Zaten hesabın var mı? Giriş yap\n          </Link>\n        </form>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}